<script>
    Elliptical(function () {
        $.element('md-preloader', {
            options:{
                proxyUpgrade:true,
                duration:4000
            },

            _initElement: function () {
                if(this.element.attr('disabled')===undefined){
                    this._initLoader();
                }
            },

            _initLoader:function(){
                var self=this;
                var template=$('<div class="preloader"><div class="circle1"></div><div class="circle2"></div></div>');
                this.element.append(template);
                this.element.addClass('animate');
                $('body')[0].removeAttribute('preload');
                var duration=this.options.duration;
                setTimeout(function(){
                    template.remove();
                    self._transition(self.element,{opacity:0},function(){
                        self.element.removeClass('animate');
                    });
                },duration);

            }
        });
    });
</script>